<ng-container *ngIf="(error$ | async) === null; else error">
    <ng-container *ngIf="loaded$ | async; else loading">
        <ng-container *ngIf="products.length > 0; else empty">
            <div
                class="col"
                *ngFor="let product of products | filter: filterValue"
            >
                <product-card
                    [product]="product"
                    [routerLink]="['/product', product.id]"
                ></product-card>
            </div>
        </ng-container>
    </ng-container>
</ng-container>

<ng-template #empty>
    <div>No products found</div>
</ng-template>

<ng-template #error>
    <div class="error-message">An error occurred</div>
</ng-template>

<ng-template #loading>
    <div class="loader">Loading...</div>
</ng-template>
